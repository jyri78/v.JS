/* Copyright (C) 2023 JÃ¼ri Kormik, GPL-3.0 */
class VJS{constructor(){if("undefined"==typeof window)throw Error(VJS.E1);if("function"!=typeof String.prototype.replaceAll)throw Error(VJS.E2)}$(e){return VJS.__e(e,document,!0)}$$(e,t,r="",n="id"){let i={id:"#",class:".",name:"="},s=VJS.__i(),l=s.$gda(e,t,r);return l?(Object.keys(i).includes(n)&&(l=`${i[n]}${l}`),s.$(l)):null}$i(e){return VJS.__inc(e,"#")}getElemById(e){return VJS.__i().$i(e)}$c(e,t=document,r=!1){return VJS.__inc(e,".",t,!r)}getElemsByClass(e,t=document,r=!1){return VJS.__i().$c(e,t,r)}$n(e,t=!1){return VJS.__inc(e,"=",null,!t)}getElemsByName(e,t=!1){return VJS.__$n(e,t)}$t(e,t=document,r=!1){return VJS.__inc(e,"",t,!r)}getElemsByTag(e,t=document,r=!1){return VJS.__e(e,t,!r)}$q(e,t=document,r=!1){return VJS.__$q(t,e,r)}querySel(e,t=document,r=!1){return VJS.__q(t,e,r)}$f(e,t){return[...VJS.__i().$$(e)].filter(t)}filter(e,t){return this.$f(e,t)}$h(e,t="",r=null){let n=VJS.__h(e,t,r);if(!r)return n}$w(e,t="",r=null){let n=VJS.__w(e,t,r);if(!r)return n}$ce(e="div",t=""){if("string"!=typeof e)return null;let r=[e];return t&&r.push({is:t}),document.createElement(...r)}createElem(e="div",t=""){return VJS.__i().$ce(e,t)}$cels(e,t=null){if("string"!=typeof e)return null;let r=VJS.__i().$ce(),n;if(r.innerHTML=e.trim(),n=r.children,t&&(t=VJS.__o(t)))for(let i of n)t.append(i);return n}createElems(e){return VJS.__i().$cels(e)}$cs(e,t=""){return VJS.__i().$f(e,e=>e.textContent.includes(t))}containsSel(e,t=""){return VJS.__i().$cs(e,t)}$ha(e,t=""){return!!(e=VJS.__o(e))&&(t?e.hasAttribute(t):e.hasAttributes())}hasAttrib(e,t=""){return VJS.__i().$ha(e,t)}$ga(e,t){return(e=VJS.__o(e))&&VJS.__i().$ha(e,t)?e.getAttribute(t):""}getAttrib(e,t){return VJS.__i().$ga(e,t)}$sa(e,t,r=!0){(e=VJS.__o(e))&&("boolean"==typeof r?e.setAttribute(t,t):e.setAttribute(t,r))}setAttrib(e,t,r=!0){VJS.__i().$sa(e,t,r)}$ra(e,t){(e=VJS.__o(e))&&e.removeAttribute(t)}remAttrib(e,t){VJS.__i().$ra(e,t)}$st(e,t,r=[],n=!1){let i=1e3*t;return i?(r instanceof Array||(r=[r]),r.length)?n?setInterval(e,i,...r):setTimeout(e,i,...r):n?setInterval(e,i):setTimeout(e,i):0}$ct(e,t=!1){e&&(t?clearInterval(e):clearTimeout(e))}$fd(e,t=[],r={},n="",i=null){n=["string","json"].includes(n=n.toLowerCase())?n.substring(0,1):"fd";let s=VJS.__fd(e,t,r,n);if("nfe"===s.err)throw new DOMException("Form not found","NotFoundError");if("mrf"===s.err){if(i&&i.error&&i.success)return console.log(s),s.ids.forEach(e=>{s.data.includes(e)?(VJS.__c(e,[i.success],"remove"),VJS.__c(e,[i.error],"add")):(VJS.__c(e,[i.error],"remove"),VJS.__c(e,[i.success],"add"))}),null;throw Error("Fill up required fields")}return s.data}$hda(e,t,r=""){return t?VJS.__i().$ha(e,VJS.__d(t,r)):VJS.__i().$ha(e)}hasDataAttrib(e,t,r=""){return VJS.__i().$hda(e,t,r)}$gda(e,t,r=""){return t?VJS.__i().$ga(e,VJS.__d(t,r)):""}getDataAttrib(e,t,r=""){return VJS.__i().$gda(e,t,r)}$sda(e,t,r="",n=!0){t&&("boolean"==typeof n&&(n|=0),VJS.__i().$sa(e,VJS.__d(t,r),n))}setDataAttrib(e,t,r="",n=!0){VJS.__i().$dsa(e,t,r,n)}$rda(e,t,r=""){t&&VJS.__i().$ra(e,VJS.__d(t,r))}remDataAttrib(e,t,r=""){VJS.__i().$rda(e,t,r)}$clc(e,t){return!!(e=VJS.__o(e))&&e.classList.contains(t)}classCont(e,t){VJS.__i().$clc(e,t)}$cla(e,t){VJS.__c(e,t,"add")}classAdd(e,t){VJS.__i().$cla(e,t)}$clr(e,t){VJS.__c(e,t,"remove")}classRem(e,t){VJS.__i().$clr(e,t)}$clp(e,t,r){VJS.__c(e,[t,r],"replace")}classRepl(e,t,r){VJS.__i().$clp(e,t,r)}$clt(e,t,r){void 0!==r&&(t=[t,r]),VJS.__c(e,t,"toggle")}classToggle(e,t,r){VJS.__i().$clt(e,t,r)}$pos(e){if(!(e=VJS.__o(e)))return;let{top:t,left:r}=e.getBoundingClientRect();return{top:t,left:r}}$val(e){return(e=VJS.__o(e))?e.options&&e.multiple?e.options.filter(e=>e.selected).map(e=>e.value):e.value:""}$ael(e,t="load",r=window){if("function"==typeof e){if(r instanceof Array)return VJS.__i().$aels(e,t,r);(r=VJS.__o(r))&&r.addEventListener(t,e)}}addEvtListener(e,t="load",r=window){VJS.__i().$ael(e,t,r)}$rel(e,t="load",r=window){if("function"==typeof e){if(r instanceof Array)return VJS.__i().$rels(e,t,r);(r=VJS.__o(r))&&r.removeEventListener(t,e)}}remEvtListener(e,t="load",r=window){VJS.__i().$rel(e,t,r)}$aels(e,t,r=[]){r instanceof Array?r.forEach(r=>VJS.__i().$ael(e,t,r)):VJS.__i().$ael(e,t,r)}addEvtListeners(e,t,r=[]){VJS.__i().$aels(e,t,r)}$rels(e,t,r=[]){r instanceof Array?r.forEach(r=>VJS.__i().$rel(e,t,r)):VJS.__i().$rel(e,t,r)}remEvtListeners(e,t,r=[]){VJS.__i().$rels(e,t,r)}$html(e,t="",r=""){if(e=VJS.__o(e)){if(!t)return e.innerHTML;if(e instanceof Element)try{r?(["beforebegin","afterbegin","beforeend","afterend"].includes(r)||(r="beforeend"),e.insertAdjacentHTML(r,t)):e.innerHTML=t}catch(n){throw new DOMException(n.message,n.name)}else throw new DOMException("Not valid Element given.","NotSupportedError")}else if(t)throw new DOMException("No valid Element found.","NotFoundError")}children(e){return VJS.__i().$q(`:scope ${e}`)}height(e,t="",r=null){let n=VJS.__h(e,t,r);if(!r)return n}width(e,t="",r=null){let n=VJS.__w(e,t,r);if(!r)return n}offset(e){if(!(e=VJS.__o(e)))return;let t=VJS.__i().$pos(e),r=document.documentElement,n=window;return{top:t.top+n.scrollY-r.clientTop,left:t.left+n.scrollX-r.clientLeft}}position(e){if(!(e=VJS.__o(e)))return;let t=VJS.__i().$pos(e),r=getComputedStyle(e);return{top:t.top-parseInt(r.marginTop),left:t.left-parseInt(r.marginLeft)}}serialize(e,t={}){if(!(e=VJS.__o(t)))return"";let r=new URLSearchParams(new FormData(e));if("object"==typeof t&&Object.keys(t).length)for(let[n,i]in t)r.append(n,i);return r.toString()}isLive(e){if(e instanceof HTMLCollection)return!0;let t=e.length;if(!t)return!1;let r=e.item(0),n=r.parentNode,i=r.cloneNode();i.style="display:none!important",n.appendChild(i);let s=e.length!==t;return n.removeChild(i),s}isHidden(e){return!((e=VJS.__o(e)).offsetWidth||e.offsetHeight||e.getClientRects().height)}isVisible(e){return!VJS.__i().isHidden(e)}toArray(e){return(e=VJS.__o(e))instanceof NodeList||e instanceof HTMLCollection?[...e]:[e]}static get E1(){return"VJS class works only in Browser!"}static get E2(){return"Your Browser does not support ECMAScript11 (2020)!"}static __v;static __$i(e){return document.getElementById(e)}static __$n(e){return document.getElementsByName(e)}static __$c(e,t){return e.getElementsByClassName(t)}static __$t(e,t){return e.getElementsByTagName(t)}static __$q(e,t,r){try{return e[`querySelector${r?"All":""}`](t)}catch(n){return null}}static __inc(e,t,r=null,n=!1){return"string"!=typeof e?null:(["#",".","="].includes(e[0])||(e=`${t}${e}`),VJS.__e(e,r,n))}static __i(){return VJS.__v||(VJS.__v=new VJS),VJS.__v}static __o(e,t=null){return"string"==typeof e&&"#"!==e[0]&&(e=`#${e}`),this.__e(e)??t}static __d(e,t="",r=""){return e?t?`data-${t}-${e}`:`data-${e}`:""}static __c(e,t,r){(e=this.__o(e))&&(t instanceof Array?e.classList[r](...t):t=[t])}static __hw(e,t,r,n){if(!(t=VJS.__o(t)))return n?void 0:0;let i=e.toLowerCase(),s="Height"===e?["Top","Bottom"]:["Left","Right"];if(n){"function"==typeof n&&(n=n()),"string"==typeof n?t.style[i]=n:t.style[i]=`${n}px`;return}{let l;if("inner"===r)l=t[`client${e}`];else if("outer"===r)l=t[`offset${e}`];else if("with-margin"===r){let o=getComputedStyle(t);l=t.getBoundingClientRect()[i]+parseInt(o[`margin${s[0]}`])+parseInt(o[`margin${s[1]}`])}else l=parseInt(t.style[i]);return l}}static __h(e,t,r){return VJS.__hw("Height",e,t,r)}static __w(e,t,r){return VJS.__hw("Width",e,t,r)}static __e(e,t=null,r=!1){let n=document;if("string"==typeof e){let i=(e=e.trim()).toLowerCase();if(i.match(/^\#?document$/))return n;if(i.match(/^\#?window$/))return window;if(i.match(/^\#[a-z][\w\-]+$/))return VJS.__$i(e.substring(1));else if(i.match(/^\.[a-z][\w\-]+$/)){let s=VJS.__$c(VJS.__o(t,n),e.substring(1));return r?s:s.item(0)}else if(i.match(/^\=["']?[a-z][\w\-]+["']?$/)){let l=VJS.__$n(e.substring(1));return r?l:l.item(0)}else{if(!(i.match(/^\@[a-z][\w\-]+$/)||i.match(/^(?:h[1-6]|[abipqsu]|[a-z]{2,})$/)))return VJS.__$q(VJS.__o(t,n),e,r);let o=VJS.__$t(VJS.__o(t,n),e);return r?o:o.item(0)}}return e instanceof Window?t||r?e:n:e instanceof Document||e instanceof HTMLElement?e:n}static __fd(e,t=[],r={},n="s"){if(!(e instanceof FormData)){if(e.constructor===({}).constructor){let i=new FormData;for(let s in e)i.append(s,e[s]);e=i}else{let l=VJS.__o(e);if(!(l instanceof HTMLFormElement))return{err:"nfe"};e=new FormData(l)}}let o=[...t],a=[];for(let[c,u]of e){let f=o.indexOf(c);a.push(c),"string"==typeof u&&(u=encodeURI(u.trim()),e.set(c,u)),u?f>-1&&o.splice(f,1):VJS.__i().$ha(c,"required")&&o.push(c)}if(t&&o.length)return{err:"mrf",data:o,ids:a};if("object"==typeof r)for(let S in r)e.append(S,r[S].trim());let V;return{err:"",data:V="s"===n?new URLSearchParams(e).toString():"j"===n?Object.fromEntries(e):e}}static async __r(e,t="GET",r="",n=!1){t=t.toUpperCase()}static getInstance(){return VJS.__i()}static register(){try{let e=VJS.getInstance();Object.getOwnPropertyNames(VJS.prototype).filter(e=>"constructor"!==e&&!~e.indexOf("__")).forEach(t=>window[t]=e[t])}catch(t){console.error(`${t.name}: ${t.message}`)}}}